<!DOCTYPE html>
<html>
	<head>
		<title>Custom Select</title>
		<object data="tabs.xhtml"></object>
		<script>
			ts.ui.ready(function() {
				ts.ui.get('#myAside', function(aside) {
					$('#mySelect').click(function() {
						aside.open();
					});
					$('.ts-user-menu button').click(function(e) {
						$('.ts-icon-checked').remove();
						$('.ts-user-menu li').removeClass('ts-checked');
						var name = $(e.currentTarget).data('user');
						$(e.currentTarget)
							.parent('li')
							.addClass('ts-checked');
						$(e.currentTarget).append('<i class="ts-icon-checked"></i>');
						$('#mySelect').val(name);
						ts.ui.Notification.success(name);
						aside.close();
					});
				});
			});
		</script>
		<style>
			.user-container div {
				margin: 10px;
				cursor: pointer;
			}
		</style>
	</head>
	<body class="nosticky">
		<article>
			<h1>Custom Select</h1>
			<section class="desc">
				<p>
					You can handle the <code>onclick</code> event on a <elm>select</elm> element to make a
					custom implementation. Here's a step by step guide to make your own User Selector.
				</p>
			</section>
			<section>
				<p>1. Create the <elm>select</elm> with <att>data-ts.custom="true"</att>.</p>
				<figure data-ts="DoxMarkup">
					<script type="text/html">
						<form data-ts="Form">
							<fieldset>
								<label>
									<span>Select</span>
									<select id="mySelect" data-ts.custom="true">
										<option value=""></option>
										<option value="jimbob">Jim Bob Johnson</option>
										<option value="karl">Karl Benson</option>
										<option value="marshall">Marshall Garrett</option>
									</select>
								</label>
							</fieldset>
						</form>
					</script>
				</figure>
			</section>
			<section>
				<p>2. Make the <elm>select</elm> open your own, custom Aside when clicked.</p>
				<figure data-ts="DoxScript">
					<script type="text/html">
						$("#mySelect").click(function(){
							ts.ui.get("#myAside", aside => {
								aside.open();
							});
						});
					</script>
				</figure>
			</section>
			<section>
				<p>3. Create the <val>Aside</val> with options to match your <elm>select</elm>.</p>
				<figure data-ts="DoxMarkup">
					<script type="text/html">
						<aside data-ts="Aside" data-ts.title="Custom Select" id="myAside">
							<div data-ts="Panel">
								<menu data-ts="Menu" class="ts-user-menu">
									<li>
										<button data-user="jimbob">
											<img data-ts="UserImage" src="assets/jim.png" alt="Jim Bob Johnson"/>
											<span>Jim Bob Johnson</span>
											<sub>jimbob@company.com</sub>
										</button>
									</li>
									<li>
										<button data-user="karl">
											<img data-ts="UserImage" alt="Karl Benson"/>
											<span>Karl Benson</span>
											<sub>karl@company.com</sub>
										</button>
									</li>
									<li>
										<button data-user="marshall">
											<img data-ts="UserImage" alt="Marshall Garrett"/>
											<span>Marshall Garrett</span>
											<sub>marshall@company.com</sub>
										</button>
									</li>
								</menu>
							</div>
						</aside>
					</script>
				</figure>
			</section>
			<section>
				<p>4. Update the <elm>select</elm> whenever something is clicked in the Aside.</p>
				<figure data-ts="DoxScript">
					<script type="text/html">
						$(".ts-user-menu button").click(function(e){
							$('.ts-icon-checked').remove();
							$('.ts-user-menu li').removeClass('ts-checked');
							var name = $(e.currentTarget).data("user");
							$(e.currentTarget).parent('li').addClass('ts-checked');
							$(e.currentTarget).append('<i class="ts-icon-checked"></i>');
							$("#mySelect").val(name);
							ts.ui.Notification.success(name);
							aside.close();
						});
					</script>
				</figure>
			</section>

			<section>
				<p>Click the <elm>select</elm> below to check how it works. Good luck!</p>
				<form data-ts="Form">
					<fieldset>
						<label>
							<span>Select</span>
							<select id="mySelect" data-ts.custom="true">
								<option value=""></option>
								<option value="jimbob">Jim Bob Johnson</option>
								<option value="karl">Karl Benson</option>
								<option value="marshall">Marshall Garrett</option>
							</select>
						</label>
					</fieldset>
				</form>
			</section>
		</article>
		<aside data-ts="Aside" data-ts.title="Custom Select" id="myAside">
			<div data-ts="Panel">
				<menu data-ts="Menu" class="ts-user-menu">
					<li>
						<button data-user="jimbob">
							<img data-ts="UserImage" src="assets/jim.png" alt="Jim Bob Johnson" />
							<span>Jim Bob Johnson</span>
							<sub>jimbob@company.com</sub>
						</button>
					</li>
					<li>
						<button data-user="karl">
							<img data-ts="UserImage" alt="Karl Benson" />
							<span>Karl Benson</span>
							<sub>karl@company.com</sub>
						</button>
					</li>
					<li>
						<button data-user="marshall">
							<img data-ts="UserImage" alt="Marshall Garrett" />
							<span>Marshall Garrett</span>
							<sub>marshall@company.com</sub>
						</button>
					</li>
				</menu>
			</div>
		</aside>
	</body>
</html>
