<!DOCTYPE html>
<html>
	<head>
		<title>Automagic Focus</title>
		<script src="index.js"></script>
		<style>
			*:focus {
				outline: 8px solid yellow !important;
			}
			.desc strong {
				margin: 0 8px;
				padding: 0 4px;
			}
			article .ts-buttons {
				margin-top: 40px;
			}
		</style>
	</head>
	<body>
		<article>
			<h1>Automagic focus</h1>
			<section class="desc">
				<p>
					On this page, we&apos;ve added a
					<strong tabindex="0" autofocus>yellow outline</strong> to the focused element.
				</p>
			</section>
			<section>
				<p>
					Keyboard support is always a work in progress, but we have a system to ensure that
					something is in theory always focused. Note that there is no default focus, but you can
					set the default focus with the HTML
					<att>autofocus</att> attribute.
				</p>
				<!-- BUG APPEARS FIXED NOW?
					<div data-ts="Note">
						<i class="ts-icon-warning"></i>
						<p>On page load, the <att>autofocus</att> attribute does not work in Firefox if the user entered via the main menu (so in the parent frame) because of a security precaution in the browser, so you should not rely much on that.</p>
					</div>
					-->
				<p>
					In Notifications and Asides, we'll always attempt to focus something even if we can't find
					any element with the
					<att>autofocus</att> attribute. Click the buttons to see.
				</p>
				<menu data-ts="Buttons" class="ts-t-t">
					<li>
						<button data-ts="Button" class="ts-secondary" onclick="notification()">
							<span>Open the Notification…</span>
						</button>
					</li>
					<li>
						<button data-ts="Button" class="ts-secondary" onclick="toggle('#one')">
							<span>Open the Aside…</span>
						</button>
					</li>
				</menu>
				<div data-ts="Note">
					<i class="ts-icon-todo"></i>
					<p>TODO: Note about focus on mobile device!</p>
				</div>
			</section>
		</article>

		<!-- asides  -->

		<aside data-ts="Aside" id="myaside" data-ts.title="Aside Title">
			<div data-ts="Panel">
				<p>Aside content.</p>
			</div>
		</aside>
		<aside data-ts="Aside" id="one" data-ts.title="Aside One" class="ts-bg-red">
			<div data-ts="Panel">
				<menu data-ts="Buttons">
					<li>
						<button data-ts="Button" onclick="toggle('#two')" class="ts-primary">
							<span>Open next aside</span>
						</button>
					</li>
				</menu>
			</div>
		</aside>
		<aside data-ts="Aside" id="two" data-ts.title="Aside Two" class="ts-bg-purple">
			<div data-ts="Panel">
				<menu data-ts="Buttons">
					<li>
						<button data-ts="Button" onclick="toggle('#three')" class="ts-primary">
							<span>Open next aside</span>
						</button>
					</li>
				</menu>
			</div>
		</aside>
		<aside data-ts="Aside" id="three" data-ts.title="Aside Three" class="ts-bg-green">
			<div data-ts="Panel">
				<menu data-ts="Buttons">
					<li>
						<button data-ts="Button" onclick="toggle('#one', '#two', '#three')" class="ts-primary">
							<span>Thanks, now close them</span>
						</button>
					</li>
				</menu>
				<div data-ts="Note">
					<i class="ts-icon-error"></i>
					<p>
						It appears we have a bug. If you do click that button, the focus will be lost. But you
						can try to close them one at a time by clicking the <code>X</code> in the corner.
					</p>
				</div>
			</div>
		</aside>
	</body>
</html>
